# OS (Operating System)
컴퓨터를 쉽게 다루게 해주는 인터페이스.
한정된 메모리나 시스템 자원을 효율적으로 분배한다.

## 운영체제와 컴퓨터

### 운영체제의 역할과 구조

#### 역할
1. CPU 스케줄링과 프로세스 관리: CPU 소유권을 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제, 자원 관리 등을 관리
1. 메모리 관리: 한정된 메모리를 어떤 프로세스에 얼마큼 할당해야할지 관리
1. 디스크 파일 관리
1. I/O 디바이스 관리

#### 구조
<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FS3U2H%2FbtqHxbOhB2V%2FWeQANBQKfm6F58xkWsJZy0%2Fimg.png">

GUI  
- 사용자가 전자 장치와 상호 작용할 수 있도록 하는 사용자 인터페이스의 한 형태이다.
    - 리눅스 서버에서는 GUI가 아닌 CUI를 사용한다.

**커널**  
- 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제의 핵심적인 기능을 모아둔 것이다.  
- 자동차:운영체제 = 엔진:커널

**인터페이스**
- 커널에 사용자의 명령을 전달하고, 실행결과를 사용자에게 알려주는 역할
- 커널과 인터페이스를 분리하여 같은 커널이여도 다른 인터페이스 형태로 제작 가능하다.
- 시스템 호출과 드라이버가 있다.

**시스템 호출**  
- 커널이 자신을 보호하기 위해 만든 인터페이스
- 컴퓨터 자원을 보호하기 위해 자원에 직접 접근하는 것을 차단
- modebit 변수가 0일 때 커널 모드 1일 때 유저 모드로 설정되며, 유저 모드일 경우 시스템 콜을 못하게 막아서 한정된 일만 하도록 설정 

**드라이버**   
- 커널과 하드웨어의 인터페이스
- 하드웨어를 제어할 수 있다

### 컴퓨터의 요소
CPU, DMA 컨트롤러, 메모리, 타이머, 디바이스 컨트롤러로 이루어짐

<img src="https://velog.velcdn.com/images%2Fjhw1251%2Fpost%2F1b0f5b51-92a2-4156-bb81-ac43b6be01cb%2Fimage.png" width="400">

#### CPU
- 인터럽트에 의해 단순히 메모리에 존재하는 명령어를 해석해서 실행
    - 커널이 프로그램을 메모리에 올려 프로세스로 만듬
    - 인터럽트: 어떤 신호가 왔을 때 CPU를 잠깐 정지시키며, 인터럽트 핸들러 함수가 실행됨
        - 하드웨어 인터럽트: IO 디바이스에서 발생하는 인터럽트
        - 소프트웨어 인터럽트: 프로세스 오류 등으로 프로세스가 시스템콜을 호출할 때마다 발동됨
- 산술 논리 연산 장치, 제어 장치, 레지스터로 구성  
    - 제어 장치  
        - 프로세스 조작을 지시
        - 입출력 장치 간 통신을 제어하고 명령어들을 읽고 해석, 데이터 처리를 위한 순서를 결정함
    - 레지스터
        - 매우 빠른 임시기억장치
        - 레지스터를 거쳐 CPU에 데이터를 전달
    - 산술 논리 연산 장치
        - 산술 연산과 논리 연산을 계산하는 디지털 회로
        - CPU의 연산처리
            1. 제어장치가 메모리, 레지스터에 계산할 값을 로드. 
            1. 제어장치가 레지스터에 있는 값을 계산하라고 산술 논리 연산 장치에 명령.
            1. 제어장치가 계산된 값을 다시 레지스터에서 메모리로 저장.

#### DMA 컨트롤러
- I/O 디바이스가 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치
- CPU 부하를 막아주며, CPU의 일을 부담하는 보조일꾼

#### 메모리 (RAM)
- 전자회로에서 데이터나 상태, 명령어를 기록.
- CPU는 계산을 담당하고, 메모리는 기억을 담당
- 메모리가 크면 많은 일을 동시에 할 수 있음

## 메모리
